@page "/add"
@using SmartCoffee.Business
@inject NavigationManager Navigation

<div class="card rounded-3">
    <div class="card-header background-black">
        <h1 class="align-middle m-auto">
            Add Product
        </h1>
    </div>
    <div class="card-body border border-1 border-dark">
            <div class="form-group">
                <span>Name:</span>
                <input @bind="Model.Product.Name" class="form-control" placeholder="Insert Name" />
                <span asp-validation-for="Product.Name" class="text-danger"></span>
            </div>
            <div class="form-group">
                <span>Price:</span>
                <input @bind="Model.Product.Price" placeholder="Insert Price" class="form-control" />
                <span asp-validation-for="Product.Price" class="text-danger"></span>
            </div>
            <div class="form-group">
                <span>URL:</span>
                <input @bind="Model.Product.URL" placeholder="Insert URL" class="form-control" />
                <span asp-validation-for="Product.URL" class="text-danger"></span>
            </div>
            <div class="form-group">
                <span>Days to arrive:</span>
                <input @bind="Model.Product.DeliveryDays" placeholder="Insert how many days it'll take to arrive'" class="form-control" />
                <span asp-validation-for="Product.DeliveryDays" class="text-danger"></span>
            </div>
            <br />
            <button type="submit" @onclick="AddProduct" class="btn btn-primary">Submit</button>
    </div>
</div>

@code {
    public AddProduct Model { get; set; } = new AddProduct();

    public async Task AddProduct()
    {
        await Model.OnAddProduct();
        Navigation.NavigateTo("");
    }
}